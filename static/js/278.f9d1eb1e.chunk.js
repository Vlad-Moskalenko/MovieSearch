"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[278],{278:function(e,t,r){r.r(t);var n=r(413),s=r(439),u=r(791),a=r(87),o=r(562),c=r.n(o),i=r(674),l=r(719),f=r(184);t.default=function(e){var t,r=e.genres,o=(0,u.useState)([]),p=(0,s.Z)(o,2),h=p[0],m=p[1],g=(0,u.useState)(0),d=(0,s.Z)(g,2),v=d[0],y=d[1],j=(0,a.lr)(),w=(0,s.Z)(j,2),x=w[0],k=w[1],S=(0,u.useState)(""),Z=(0,s.Z)(S,2),b=Z[0],q=Z[1],_=(0,u.useState)("success"),C=(0,s.Z)(_,2),F=C[0],I=C[1],M=null!==(t=x.get("query"))&&void 0!==t?t:"",N=Number(x.get("page"))||1;(0,u.useEffect)((function(){q(M),M&&(I("pending"),window.scrollTo({top:0,behavior:"smooth"}),l.W.searchMovie(M,N).then((function(e){var t=e.results,r=e.total_results;m(t),y(r),I("success")})).catch((function(){return I("error")}))),""===M&&(m([]),y(0))}),[M,N]);return(0,f.jsxs)("main",{children:[(0,f.jsx)(i.Um,{handleFormSubmit:function(e){e.preventDefault();var t=e.target.query.value;""!==t?k({query:t,page:1}):c().Notify.failure("Search field is empty!!!")},setQueryInput:q,queryInput:b}),("success"===F||"pending"===F)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(i.OM,{movies:h,genres:r}),v>20&&(0,f.jsx)(i.Rz,{totalResults:v,currentPage:N,setPage:function(e){return k((0,n.Z)({query:M},e))}})]}),"pending"===F&&(0,f.jsx)(i.$j,{}),"error"===F&&(0,f.jsx)(i.TX,{title:"Oops! We couldn't find any movie with title - ".concat(M,"...")})]})}}}]);
//# sourceMappingURL=278.f9d1eb1e.chunk.js.map