"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[278],{278:function(e,t,r){r.r(t);var s=r(413),u=r(439),n=r(791),a=r(87),c=r(562),o=r.n(c),i=r(674),l=r(719),f=r(184);t.default=function(e){var t,r=e.genres,c=(0,n.useState)([]),p=(0,u.Z)(c,2),h=p[0],m=p[1],g=(0,n.useState)(0),d=(0,u.Z)(g,2),v=d[0],y=d[1],j=(0,a.lr)(),w=(0,u.Z)(j,2),k=w[0],x=w[1],S=(0,n.useState)(""),Z=(0,u.Z)(S,2),b=Z[0],q=Z[1],_=(0,n.useState)("success"),C=(0,u.Z)(_,2),I=C[0],M=C[1],N=null!==(t=k.get("query"))&&void 0!==t?t:"",O=Number(k.get("page"))||1;(0,n.useEffect)((function(){q(N),N&&(M("pending"),window.scrollTo({top:0,behavior:"smooth"}),l.W.searchMovie(N,O).then((function(e){var t=e.results,r=e.total_results;m(t),y(r),M("success")})).catch((function(){return M("error")}))),""===N&&(m([]),y(0))}),[N,O]);return(0,f.jsxs)("main",{children:[(0,f.jsx)(i.Um,{handleFormSubmit:function(e){e.preventDefault();var t=e.target.query.value;""!==t?x({query:t,page:1}):o().Notify.failure("Search field is empty!!!")},setQueryInput:q,queryInput:b}),("success"===I||"pending"===I)&&(0,f.jsx)(i.OM,{movies:h,genres:r}),"error"===I&&(0,f.jsx)(i.TX,{title:"Oops! We couldn't find any movie with title - ".concat(N,"...")}),"pending"===I&&(0,f.jsx)(i.$j,{}),"success"===I&&v>20&&(0,f.jsx)(i.Rz,{totalResults:v,currentPage:O,setPage:function(e){return x((0,s.Z)({query:N},e))}})]})}}}]);
//# sourceMappingURL=278.a5426877.chunk.js.map