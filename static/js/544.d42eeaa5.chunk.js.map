{"version":3,"file":"static/js/544.d42eeaa5.chunk.js","mappings":"kOAgDA,UAvCa,WAAO,IAAD,EACjB,GAAwCA,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAK,UAAGF,EAAaG,IAAI,gBAApB,QAAgC,GACrCC,EAAOC,OAAOL,EAAaG,IAAI,UAAY,EAE3CG,GAAWC,EAAAA,EAAAA,MACjB,GAAyCC,EAAAA,EAAAA,KAAY,SAAAC,GAAK,OAAIA,EAAMC,MAAV,IAAlDA,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,OAAQC,EAAxB,EAAwBA,cAExBC,EAAAA,EAAAA,YAAU,WAMRP,EALKJ,GAKIY,EAAAA,EAAAA,IAAe,CAAEZ,MAAAA,EAAOE,KAAAA,KAJtBW,EAAAA,EAAAA,IAAkBX,GAK9B,GAAE,CAACF,EAAOE,EAAME,IAIjB,OACE,4BACc,UAAXK,IACC,iCACE,SAAC,KAAD,CAAYD,OAAQA,KACpB,SAAC,KAAD,CACEE,aAAcA,EACdI,YAAaZ,EACba,QAVa,SAAAb,GAAI,OAAIH,GAAgB,QAAEC,MAAOA,GAAUE,GAAvC,OAeX,UAAXO,IAAsB,SAAC,KAAD,IAEX,YAAXA,IAAwB,SAAC,KAAD,MAG9B,C","sources":["pages/Home/Home.jsx"],"sourcesContent":["import { useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport { getTrendingMovies } from 'redux/movies/operations';\nimport { getSearchMovie } from 'redux/movies/operations';\n\nimport { MoviesList, NotFound, PagePagination, Spinner } from 'components';\n\nconst Home = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n  const page = Number(searchParams.get('page')) || 1;\n\n  const dispatch = useDispatch();\n  const { movies, status, totalResults } = useSelector(state => state.movies);\n\n  useEffect(() => {\n    if (!query) {\n      dispatch(getTrendingMovies(page));\n      return;\n    }\n\n    dispatch(getSearchMovie({ query, page }));\n  }, [query, page, dispatch]);\n\n  const setQueryString = page => setSearchParams({ query: query, ...page });\n\n  return (\n    <main>\n      {status !== 'error' && (\n        <>\n          <MoviesList movies={movies} />\n          <PagePagination\n            totalResults={totalResults}\n            currentPage={page}\n            setPage={setQueryString}\n          />\n        </>\n      )}\n\n      {status === 'error' && <NotFound />}\n\n      {status === 'loading' && <Spinner />}\n    </main>\n  );\n};\n\nexport default Home;\n"],"names":["useSearchParams","searchParams","setSearchParams","query","get","page","Number","dispatch","useDispatch","useSelector","state","movies","status","totalResults","useEffect","getSearchMovie","getTrendingMovies","currentPage","setPage"],"sourceRoot":""}